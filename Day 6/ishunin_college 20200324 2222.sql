--
-- Script was generated by Devart dbForge Studio 2019 for MySQL, Version 8.2.23.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 24.03.2020 22:22:35
-- Server version: 5.5.5-10.3.13-MariaDB-log
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE ishunin_college;

--
-- Drop table `ishunin_graduate_time`
--
DROP TABLE IF EXISTS ishunin_graduate_time;

--
-- Drop table `ishunin_classroom`
--
DROP TABLE IF EXISTS ishunin_classroom;

--
-- Drop table `ishunin_day`
--
DROP TABLE IF EXISTS ishunin_day;

--
-- Drop table `ishunin_lesson_num`
--
DROP TABLE IF EXISTS ishunin_lesson_num;

--
-- Drop table `ishunin_graduate`
--
DROP TABLE IF EXISTS ishunin_graduate;

--
-- Drop table `ishunin_course`
--
DROP TABLE IF EXISTS ishunin_course;

--
-- Drop table `ishunin_student`
--
DROP TABLE IF EXISTS ishunin_student;

--
-- Drop table `ishunin_gruppa`
--
DROP TABLE IF EXISTS ishunin_gruppa;

--
-- Drop table `ishunin_special`
--
DROP TABLE IF EXISTS ishunin_special;

--
-- Drop table `ishunin_teacher`
--
DROP TABLE IF EXISTS ishunin_teacher;

--
-- Drop table `ishunin_otdel`
--
DROP TABLE IF EXISTS ishunin_otdel;

--
-- Drop table `ishunin_user`
--
DROP TABLE IF EXISTS ishunin_user;

--
-- Drop table `ishunin_gender`
--
DROP TABLE IF EXISTS ishunin_gender;

--
-- Set default database
--
USE ishunin_college;

--
-- Create table `ishunin_gender`
--
CREATE TABLE ishunin_gender (
  gender_id tinyint(4) NOT NULL AUTO_INCREMENT,
  name varchar(50) DEFAULT NULL,
  PRIMARY KEY (gender_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 3,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `ishunin_user`
--
CREATE TABLE ishunin_user (
  user_id bigint(20) NOT NULL AUTO_INCREMENT,
  lastname varchar(50) DEFAULT NULL,
  firstname varchar(50) DEFAULT NULL,
  patronomic varchar(50) DEFAULT NULL,
  login varchar(255) DEFAULT NULL,
  pass varchar(255) DEFAULT NULL,
  gender_id tinyint(20) DEFAULT NULL,
  birthday date DEFAULT NULL,
  PRIMARY KEY (user_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 13,
AVG_ROW_LENGTH = 1365,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE ishunin_user
ADD CONSTRAINT FK_ishunin_user_ishunin_gender_gender_id FOREIGN KEY (gender_id)
REFERENCES ishunin_gender (gender_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create table `ishunin_otdel`
--
CREATE TABLE ishunin_otdel (
  otdel_id smallint(6) NOT NULL,
  name varchar(50) DEFAULT NULL,
  PRIMARY KEY (otdel_id)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `ishunin_teacher`
--
CREATE TABLE ishunin_teacher (
  user_id bigint(20) NOT NULL,
  otdel_id smallint(6) DEFAULT NULL,
  PRIMARY KEY (user_id)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 3276,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE ishunin_teacher
ADD CONSTRAINT FK_ishunin_teacher_ishunin_otdel_otdel_id FOREIGN KEY (otdel_id)
REFERENCES ishunin_otdel (otdel_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE ishunin_teacher
ADD CONSTRAINT FK_ishunin_teacher_ishunin_user_user_id FOREIGN KEY (user_id)
REFERENCES ishunin_user (user_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create table `ishunin_special`
--
CREATE TABLE ishunin_special (
  special_id int(11) NOT NULL AUTO_INCREMENT,
  name varchar(50) DEFAULT NULL,
  otdel_id smallint(6) DEFAULT NULL,
  PRIMARY KEY (special_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 7,
AVG_ROW_LENGTH = 2730,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE ishunin_special
ADD CONSTRAINT FK_ishunin_special_ishunin_otdel_otdel_id FOREIGN KEY (otdel_id)
REFERENCES ishunin_otdel (otdel_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create table `ishunin_gruppa`
--
CREATE TABLE ishunin_gruppa (
  gruppa_id int(11) NOT NULL AUTO_INCREMENT,
  name varchar(10) DEFAULT NULL,
  special_id int(11) DEFAULT NULL,
  date_begin date DEFAULT NULL,
  date_end date DEFAULT NULL,
  PRIMARY KEY (gruppa_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 8,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE ishunin_gruppa
ADD CONSTRAINT FK_ishunin_gruppa_ishunin_special_special_id FOREIGN KEY (special_id)
REFERENCES ishunin_special (special_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create table `ishunin_student`
--
CREATE TABLE ishunin_student (
  user_id bigint(20) NOT NULL,
  gruppa_id int(11) DEFAULT NULL,
  num_zach varchar(255) DEFAULT NULL,
  PRIMARY KEY (user_id)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE ishunin_student
ADD CONSTRAINT FK_ishunin_student_ishunin_gruppa_gruppa_id FOREIGN KEY (gruppa_id)
REFERENCES ishunin_gruppa (gruppa_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE ishunin_student
ADD CONSTRAINT FK_ishunin_student_ishunin_user_user_id FOREIGN KEY (user_id)
REFERENCES ishunin_user (user_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create table `ishunin_course`
--
CREATE TABLE ishunin_course (
  course_id int(11) NOT NULL AUTO_INCREMENT,
  name varchar(50) DEFAULT NULL,
  special_id int(11) DEFAULT NULL,
  hours smallint(6) DEFAULT NULL,
  PRIMARY KEY (course_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 8,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE ishunin_course
ADD CONSTRAINT FK_ishunin_course_ishunin_special_special_id FOREIGN KEY (special_id)
REFERENCES ishunin_special (special_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create table `ishunin_graduate`
--
CREATE TABLE ishunin_graduate (
  graduate_id int(11) NOT NULL AUTO_INCREMENT,
  gruppa_id int(11) DEFAULT NULL,
  course_id int(11) DEFAULT NULL,
  user_id bigint(20) DEFAULT NULL,
  PRIMARY KEY (graduate_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 5,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE ishunin_graduate
ADD CONSTRAINT FK_ishunin_graduate_ishunin_course_course_id FOREIGN KEY (course_id)
REFERENCES ishunin_course (course_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE ishunin_graduate
ADD CONSTRAINT FK_ishunin_graduate_ishunin_gruppa_gruppa_id FOREIGN KEY (gruppa_id)
REFERENCES ishunin_gruppa (gruppa_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE ishunin_graduate
ADD CONSTRAINT FK_ishunin_graduate_ishunin_teacher_user_id FOREIGN KEY (user_id)
REFERENCES ishunin_teacher (user_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create table `ishunin_lesson_num`
--
CREATE TABLE ishunin_lesson_num (
  lesson_num_id int(11) NOT NULL AUTO_INCREMENT,
  name varchar(50) DEFAULT NULL,
  time_lesson time DEFAULT NULL,
  year_lesson year(4) DEFAULT NULL,
  PRIMARY KEY (lesson_num_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 5,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `ishunin_day`
--
CREATE TABLE ishunin_day (
  day_id tinyint(4) NOT NULL AUTO_INCREMENT,
  name varchar(50) DEFAULT NULL,
  PRIMARY KEY (day_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 8,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `ishunin_classroom`
--
CREATE TABLE ishunin_classroom (
  classroom_id int(11) NOT NULL AUTO_INCREMENT,
  name varchar(50) DEFAULT NULL,
  PRIMARY KEY (classroom_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 5,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `ishunin_graduate_time`
--
CREATE TABLE ishunin_graduate_time (
  graduate_time_id int(11) NOT NULL AUTO_INCREMENT,
  graduate_id int(11) DEFAULT NULL,
  day_id tinyint(4) DEFAULT NULL,
  lesson_num_id int(11) DEFAULT NULL,
  classroom_id int(11) DEFAULT NULL,
  PRIMARY KEY (graduate_time_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 6,
AVG_ROW_LENGTH = 3276,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE ishunin_graduate_time
ADD CONSTRAINT FK_ishunin_graduate_time_ishunin_classroom_classroom_id FOREIGN KEY (classroom_id)
REFERENCES ishunin_classroom (classroom_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE ishunin_graduate_time
ADD CONSTRAINT FK_ishunin_graduate_time_ishunin_day_day_id FOREIGN KEY (day_id)
REFERENCES ishunin_day (day_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE ishunin_graduate_time
ADD CONSTRAINT FK_ishunin_graduate_time_ishunin_graduate_graduate_id FOREIGN KEY (graduate_id)
REFERENCES ishunin_graduate (graduate_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE ishunin_graduate_time
ADD CONSTRAINT FK_ishunin_graduate_time_ishunin_lesson_num_lesson_num_id FOREIGN KEY (lesson_num_id)
REFERENCES ishunin_lesson_num (lesson_num_id) ON DELETE NO ACTION ON UPDATE NO ACTION;

-- 
-- Dumping data for table ishunin_gender
--
INSERT INTO ishunin_gender VALUES
(1, 'Мужской'),
(2, 'Женский');

-- 
-- Dumping data for table ishunin_user
--
INSERT INTO ishunin_user VALUES
(1, 'Иванов', 'Иван', 'Иванович', 'root', 'root', 1, '1975-05-25'),
(2, 'Петров', 'Петр', 'Петрович', 'root', 'root', 1, '1980-08-06'),
(3, 'Козлов', 'Иван', 'Афанасьевич', 'root', 'root', 1, '1985-04-15'),
(4, 'Чурюмов', 'Кристина', 'Федоровна', 'root', 'root', 2, '1990-05-20'),
(5, 'Васильев', 'Феофан', 'Александрович', 'root', 'root', 1, '9991-01-13'),
(6, 'Федорова', 'Милана', 'Андреевна', 'root', 'root', 2, '1998-04-15'),
(7, 'Нуржанов', 'Нуржан', 'Нуржанович', 'root', 'root', 1, '1999-09-18'),
(8, 'Канатов', 'Канат', 'Канатович', 'root', 'root', 1, '1999-07-07'),
(9, 'Золотая', 'Ирина', 'Кайратовна', 'root', 'root', 2, '2000-09-14'),
(10, 'Серая', 'Арина', 'Радионовна', 'root', 'root', 2, '2000-10-29'),
(11, 'Петухов', 'Виталий', 'Фадеевич', 'root', 'root', 1, '2000-02-20'),
(12, 'Котова', 'Аурелия', 'Ароновна', 'root', 'root', 2, '2002-12-19');

-- 
-- Dumping data for table ishunin_otdel
--
INSERT INTO ishunin_otdel VALUES
(1, 'Информационные системы'),
(2, 'Технические специальности'),
(3, 'Автоматизация и управление');

-- 
-- Dumping data for table ishunin_special
--
INSERT INTO ishunin_special VALUES
(1, 'Информационные системы', 1),
(2, 'Нефтегазовое дело', 2),
(3, 'Автоматизация и управление', 3),
(4, 'Электроснабжение', 3),
(5, 'ВТ и ПО', 1),
(6, 'Строительство и эксплуатация зданий и сооружений', 2);

-- 
-- Dumping data for table ishunin_teacher
--
INSERT INTO ishunin_teacher VALUES
(1, 1),
(2, 1),
(3, 2),
(5, 2),
(4, 3);

-- 
-- Dumping data for table ishunin_course
--
INSERT INTO ishunin_course VALUES
(1, 'Основы автоматизации', 1, 90),
(2, 'Электротехника', 3, 106),
(3, 'Основы алгоритмизации', 5, 52),
(4, 'Мультимедиа технологии', 1, 36),
(5, 'Технологическая механика', 6, 96),
(6, 'Промышленная электротехника', 4, 108),
(7, 'Австоматизированные ис', 1, 86);

-- 
-- Dumping data for table ishunin_gruppa
--
INSERT INTO ishunin_gruppa VALUES
(1, '101 ИС', 1, '2016-09-01', '2020-07-01'),
(2, '102 АС', 3, '2016-09-01', '2020-07-01'),
(3, '302 ИС', 1, '2014-09-01', '2018-07-01'),
(4, '302АС', 3, '2014-09-01', '2018-07-01'),
(5, '202 С', 6, '2015-09-01', '2018-07-01'),
(6, '404 П', 5, '2014-09-01', '2017-07-01'),
(7, '303 ЭЛ', 4, '2014-09-01', '2018-07-01');

-- 
-- Dumping data for table ishunin_lesson_num
--
INSERT INTO ishunin_lesson_num VALUES
(1, 'N1', '15:40:00', 2019),
(2, 'N2', '13:20:00', 2020),
(3, 'N3', '12:25:00', 2018),
(4, 'N4', '04:19:00', 2017);

-- 
-- Dumping data for table ishunin_graduate
--
INSERT INTO ishunin_graduate VALUES
(1, 1, 1, 1),
(2, 2, 3, 3),
(3, 3, 5, 5),
(4, 5, 4, 4);

-- 
-- Dumping data for table ishunin_day
--
INSERT INTO ishunin_day VALUES
(1, 'Понедельник'),
(2, 'Вторник'),
(3, 'Среда'),
(4, 'Четверг'),
(5, 'Пятница'),
(6, 'Суббота'),
(7, 'Воскресенье');

-- 
-- Dumping data for table ishunin_classroom
--
INSERT INTO ishunin_classroom VALUES
(1, 'Математика'),
(2, 'WEB- Технология'),
(3, 'черчение'),
(4, 'Русский Язык');

-- 
-- Dumping data for table ishunin_student
--
INSERT INTO ishunin_student VALUES
(6, 1, 'К1020'),
(7, 2, 'А5292'),
(8, 2, 'В8578'),
(9, 5, 'Р5285'),
(10, 4, 'Ф5285'),
(11, 1, 'К7485'),
(12, 3, NULL);

-- 
-- Dumping data for table ishunin_graduate_time
--
INSERT INTO ishunin_graduate_time VALUES
(1, 1, 3, 1, 2),
(2, 2, 4, 3, 3),
(3, 3, 3, 4, 4),
(4, 3, 6, 3, 3),
(5, 4, 5, NULL, 1);

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS */;